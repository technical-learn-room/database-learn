## 빈 리스트와 not null 타입 간의 직렬화 문제

#### 개요  
이번에는 레디스와 코틀린을 동시에 사용하면서 생겼던 문제에 대해 다뤄봅니다.  

#### 무슨 문제인가요?
레디스에서 값을 저장할 때 기본 타입이 아니라면 그 타입을 저장하기 위해서 직렬화를 수행합니다.  
그 중 디폴트로 적용되는 직렬화는 빈 리스트를 빈 리스트 자체로 저장하는 것이 아니라  
빈 리스트를 null로 변환하여 저장합니다.  

문제는 여기서 발생하게 됩니다.  
코틀린에는 not null 타입이 존재합니다. (물론 다른 언어에도 있지만)  
그런데 레디스에서 빈 리스트를 null로 저장하니  
다시 역직렬화를 했을 때 빈 리스트는 null이 되어 객체에 저장됩니다.  
이때 리스트가 not null 타입이었다면 의도치 않게 `NullPointerException`이 발생하게 됩니다.  

#### 해결 방법  
레디스의 디폴트 직렬화 방법을 채택하지 않고 Jackson 직렬화 등의 다른 방식을 채택해야합니다.